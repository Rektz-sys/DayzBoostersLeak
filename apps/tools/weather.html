<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
        Swal.fire({
            title: "Terms of Use Updated",
            text: "We have updated our Terms of Use. Please review the changes.",
            icon: "info",
            confirmButtonText: "View Terms",
            allowOutsideClick: false,
            allowEscapeKey: false
        }).then((result) => {
            // Set cookie to not show again
            document.cookie = "terms_update_20250309=acknowledged; expires=Fri, 31 Dec 2030 23:59:59 GMT; path=/; SameSite=Strict";
            
            // Redirect to Terms of Use page
            window.location.href = "terms.html";
        });
    });
    </script><!doctype html>

<html
  lang="en"
  class="light-style layout-navbar-fixed layout-menu-fixed layout-compact"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="../../assets/"
  data-template="vertical-menu-template"
  data-style="dark">
  
<!-- Mirrored from app.dayzboosterz.com/apps/tools/weather by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 08 Mar 2025 17:27:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Weather Manager &mdash; DayZ BoosterZ</title>

    <meta name="description" content="Create customized weather settings with our interactive Weather Configuration tool. Adjust parameters like overcast, fog, rain, wind, snowfall, and storm activity, then generate or export XML configurations for dynamic weather control." />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../assets/img/favicon/favicon.ico" />

    <!-- Fonts -->
    <link rel="preconnect" href="../../../fonts.googleapis.com/index.html" />
    <link rel="preconnect" href="../../../fonts.gstatic.com/index.html" crossorigin />
    <link
      href="../../../fonts.googleapis.com/css2ad73.css?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&amp;ampdisplay=swap"
      rel="stylesheet" />

    <!-- Icons -->
    <link rel="stylesheet" href="../../assets/vendor/fonts/fontawesome.css" />
    <link rel="stylesheet" href="../../assets/vendor/fonts/tabler-icons.css" />
    <link rel="stylesheet" href="../../assets/vendor/fonts/flag-icons.css" />

    <!-- Core CSS -->

    <link rel="stylesheet" href="../../assets/vendor/css/rtl/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="../../assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css" />

    <link rel="stylesheet" href="../../assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="../../assets/vendor/libs/node-waves/node-waves.css" />

    <link rel="stylesheet" href="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="../../assets/vendor/libs/typeahead-js/typeahead.css" />
    <link rel="stylesheet" href="../../assets/vendor/libs/select2/select2.css" />
    <link rel="stylesheet" href="../../assets/vendor/libs/%40form-validation/form-validation.css" />
    <link rel="stylesheet" href="../../assets/vendor/libs/bs-stepper/bs-stepper.css" />
	
	<link href="../../../cdn.jsdelivr.net/npm/sweetalert2%4011/dist/sweetalert2.min.css" rel="stylesheet">

    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="../../assets/vendor/js/helpers.js"></script>
    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->

    <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
    <script src="../../assets/vendor/js/template-customizer.js"></script>

    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="../../assets/js/config.js"></script>
	
	<style>
	  .icon {
		width: 32px;
		height: 32px;
	  }
	  
	  /* Custom Range Slider Styling */
	  input[type="range"] {
		-webkit-appearance: none;
		appearance: none;
		height: 6px;
		border-radius: 5px;
		background: #d9dee3;
		outline: none;
		margin: 10px 0;
	  }

	  input[type="range"]::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 18px;
		height: 18px;
		border-radius: 50%;
		background: var(--bs-primary);
		cursor: pointer;
		border: none;
		box-shadow: 0 2px 4px rgba(0,0,0,0.2);
		transition: all 0.2s ease;
	  }

	  input[type="range"]::-moz-range-thumb {
		width: 18px;
		height: 18px;
		border-radius: 50%;
		background: var(--bs-primary);
		cursor: pointer;
		border: none;
		box-shadow: 0 2px 4px rgba(0,0,0,0.2);
		transition: all 0.2s ease;
	  }

	  input[type="range"]::-webkit-slider-thumb:hover {
		box-shadow: 0 0 0 8px rgba(105, 108, 255, 0.16);
	  }

	  input[type="range"]::-moz-range-thumb:hover {
		box-shadow: 0 0 0 8px rgba(105, 108, 255, 0.16);
	  }

	  /* Active state */
	  input[type="range"]:active::-webkit-slider-thumb {
		box-shadow: 0 0 0 11px rgba(105, 108, 255, 0.24);
	  }

	  input[type="range"]:active::-moz-range-thumb {
		box-shadow: 0 0 0 11px rgba(105, 108, 255, 0.24);
	  }

	  /* Focused state */
	  input[type="range"]:focus {
		box-shadow: none;
	  }

	  /* Dark theme adjustments */
	  [data-theme="dark"] input[type="range"] {
		background: #444564;
	  }

	  [data-theme="dark"] input[type="range"]::-webkit-slider-thumb {
		background: var(--bs-primary);
	  }

	  [data-theme="dark"] input[type="range"]::-moz-range-thumb {
		background: var(--bs-primary);
	  }
	</style>
	
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

        <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
  <div class="app-brand demo">
    <a href="../../index.html" class="app-brand-link">
      <span class="app-brand-logo demo">
        <img src="../../../raw.githubusercontent.com/OzzieHouso/dzb-icon/refs/heads/main/gamer.svg" alt="dzb-icon" class="icon" />
      </span>
      <span class="app-brand-text demo menu-text fw-bold ms-2 ps-1">DZB</span>
    </a>
    <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto">
      <i class="ti menu-toggle-icon d-none d-xl-block align-middle"></i>
      <i class="ti ti-x d-block d-xl-none ti-md align-middle"></i>
    </a>
  </div>
  <div class="menu-inner-shadow"></div>
  <ul class="menu-inner py-1">          
    <!-- Home -->
    <li class="menu-header small">
      <span class="menu-header-text">Home</span>
    </li>
    <li class="menu-item ">
        <a href="../../index.html" class="menu-link">
            <i class="menu-icon tf-icons ti ti-home"></i>
            <div>Home</div>
        </a>
    </li>
	<li class="menu-item ">
        <a href="../index-2.html" class="menu-link">
            <i class="menu-icon tf-icons ti ti-home-check"></i>
            <div>Tools Home</div>
        </a>
    </li>
    <li class="menu-item ">
      <a href="latest.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-files"></i>
        <div>Latest Files</div>
      </a>
    </li>
    
    <li class="menu-header small">
      <span class="menu-header-text">Connections</span>
    </li>
    <li class="menu-item ">
      <a href="communities.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-cloud-network"></i>
        <div>Discord Servers</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="partners.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-heart-handshake"></i>
        <div>DZB Partners</div>
      </a>
    </li>
        
    <!-- Types Management -->
    <li class="menu-header small">
      <span class="menu-header-text">Types Management</span>
    </li>
    <li class="menu-item ">
      <a href="advancedtypes.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-settings"></i>
        <div data-tool-name="Advanced Types">Advanced Types</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="typesboost.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-arrow-up"></i>
        <div data-tool-name="Types Boosting">Types Boosting</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="typesreduce.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-arrow-down"></i>
        <div data-tool-name="Types Reducer">Types Reducer</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="typesorganise.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-hierarchy"></i>
        <div data-tool-name="Types Organiser">Types Organiser</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="tierboost.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-layers-intersect"></i>
        <div data-tool-name="Tier Boosting">Tier Boosting</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="lifetimereduce.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-hourglass"></i>
        <div data-tool-name="Lifetime Reducer">Lifetime Reducer</div>
      </a>
    </li>

    <!-- Generators -->
    <li class="menu-header small">
      <span class="menu-header-text">Generators</span>
    </li>
    <li class="menu-item">
      <a href="https://dayzyourway.com/loadouts" class="menu-link">
        <i class="menu-icon tf-icons ti ti-user"></i>
        <div data-tool-name="Loadout Generator">Loadout Generator</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="gameplay.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-device-gamepad"></i>
        <div data-tool-name="Gameplay Generator">Gameplay Generator</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="messages.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-message"></i>
        <div data-tool-name="Messages Generator">Messages Generator</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="spawngenerator.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-map-pin"></i>
        <div data-tool-name="Spawn Point Generator">Spawn Point Generator</div>
      </a>
    </li>
	<li class="menu-item ">
		<a href="jsonheatmap.html" class="menu-link">
			<i class="menu-icon tf-icons ti ti-map-pin"></i>
			<div data-tool-name="Object Distribution Heat Map">Object Heat Map</div>
		</a>
	</li>

    <!-- Converters -->
    <li class="menu-header small">
      <span class="menu-header-text">Converters</span>
    </li>
    <li class="menu-item ">
      <a href="jsondze.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-exchange"></i>
        <div data-tool-name="JSON to DZE">JSON to DZE</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="ctoobjectspawner.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-box"></i>
        <div data-tool-name="INIT.C to Object Spawner">INIT.C to Object Spawner</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="spawnobjectconvert.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-cube"></i>
        <div data-tool-name="SpawnObject Converter">SpawnObject Converter</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="mapgrouppos.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-map-pin"></i>
        <div data-tool-name="MapGroupPos to Event">MapGroupPos to Event</div>
      </a>
    </li>
	<li class="menu-item ">
		<a href="eventgroupcalc.html" class="menu-link">
			<i class="menu-icon tf-icons ti ti-calculator"></i>
			<div data-tool-name="Event Group Calculator">Event Group Calculator</div>
		</a>
	</li>
    <li class="menu-item ">
      <a href="effectconverter.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-wand"></i>
        <div data-tool-name="CfgEffect Converter">CfgEffect Converter</div>
      </a>
    </li>
	<li class="menu-item ">
      <a href="initctomgp.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-wand"></i>
        <div data-tool-name="INIT.C to MapGroupPos">INIT.C to MapGroupPos</div>
      </a>
    </li>

    <!-- Validators -->
    <li class="menu-header small">
      <span class="menu-header-text">Validators</span>
    </li>
    <li class="menu-item ">
      <a href="missionvalidator.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-checkbox"></i>
        <div data-tool-name="Mission Folder Validator">Mission Folder Validator</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="jsonvalidator.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-code"></i>
        <div data-tool-name="JSON Validator">JSON Validator</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="xmlvalidator.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-file-code"></i>
        <div data-tool-name="XML Validator">XML Validator</div>
      </a>
    </li>

    <!-- Management Tools -->
    <li class="menu-header small">
      <span class="menu-header-text">Management Tools</span>
    </li>
	<li class="menu-item ">
	  <a href="eventsorganize.html" class="menu-link">
		<i class="menu-icon tf-icons ti ti-calendar-check"></i>
		<div data-tool-name="Events Organizer">Events Organizer</div>
	  </a>
	</li>
    <li class="menu-item ">
      <a href="globals.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-world"></i>
        <div data-tool-name="Globals Configurator">Globals Configurator</div>
      </a>
    </li>
    <li class="menu-item active">
      <a href="weather.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-sun-moon"></i>
        <div data-tool-name="Weather Manager">Weather Manager</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="calculator.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-clock"></i>
        <div data-tool-name="Day/Night Calculator">Day/Night Calculator</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="economy.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-coins"></i>
        <div data-tool-name="Economy Editor">Economy Editor</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="proxycalc.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-calculator"></i>
        <div data-tool-name="Proxy Calculator">Proxy Calculator</div>
      </a>
    </li>

    <!-- Misc Tools -->
    <li class="menu-header small">
      <span class="menu-header-text">Misc Tools</span>
    </li>
    <li class="menu-item ">
      <a href="praconverter.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-transform"></i>
        <div data-tool-name="PRA Converter">PRA Converter</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="spawnobjectmover.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-arrows-move"></i>
        <div data-tool-name="SpawnObject Mover">SpawnObject Mover</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="spawnobjectorganize.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-sort-ascending"></i>
        <div data-tool-name="SpawnObject Organizer">SpawnObject Organizer</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="classnamefinder.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-search"></i>
        <div data-tool-name="Classname Finder">Classname Finder</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="jsontospawnobject.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-box"></i>
        <div data-tool-name="JSON to SpawnObject">JSON to SpawnObject</div>
      </a>
    </li>
    <li class="menu-item ">
      <a href="splitter.html" class="menu-link">
        <i class="menu-icon tf-icons ti ti-file-code"></i>
        <div data-tool-name="JSON Splitter">JSON Splitter</div>
      </a>
    </li>
	
    
    <li class="menu-header small" style="height: 50px;"></li>
	
	
	<li class="menu-header small" style="height: 50px;"></li>

  </ul>
</aside>		
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <nav
            class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
            id="layout-navbar">
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
              <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
                <i class="ti ti-menu-2 ti-md"></i>
              </a>
            </div>

            <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
              <!-- Search -->
              
              <!-- /Search -->

              <ul class="navbar-nav flex-row align-items-center ms-auto">
                <!-- Language -->
                
                <!--/ Language -->

                <!-- Style Switcher -->
                <li class="nav-item dropdown-style-switcher dropdown">
                  <a
                    class="nav-link btn btn-text-secondary btn-icon rounded-pill dropdown-toggle hide-arrow"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown">
                    <i class="ti ti-md"></i>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-styles">
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-theme="light">
                        <span class="align-middle"><i class="ti ti-sun ti-md me-3"></i>Light</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-theme="dark">
                        <span class="align-middle"><i class="ti ti-moon-stars ti-md me-3"></i>Dark</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-theme="system">
                        <span class="align-middle"
                          ><i class="ti ti-device-desktop-analytics ti-md me-3"></i>System</span
                        >
                      </a>
                    </li>
                  </ul>
                </li>

                <!-- User -->
                <!-- Login Button -->
<li class="nav-item">
  <a href="../../auth/login.html" class="btn btn-primary btn-lg rounded-pill shadow-sm" target="_blank">
    <i class="tf-icons ti ti-brand-discord me-2"></i>
    <span class="d-none d-md-inline">Login/Join DZB Discord</span>
    <span class="d-inline d-md-none">Login</span>
  </a>
</li>
                <!--/ User -->
              </ul>
            </div>

            <!-- Search Small Screens -->
            <div class="navbar-search-wrapper search-input-wrapper d-none">
              <input
                type="text"
                class="form-control search-input container-xxl border-0"
                placeholder="Search..."
                aria-label="Search..." />
              <i class="ti ti-x search-toggler cursor-pointer"></i>
            </div>
          </nav>

          <!-- / Navbar -->
			<!-- Content wrapper -->
			<div class="content-wrapper">
			  <!-- Content -->
			  <div class="container-xxl flex-grow-1 container-p-y">
				<!-- Header Card -->
				<div class="row mb-4">
				  <div class="col-12">
					<div class="card border-0">
					  <div class="card-body d-flex align-items-center p-4">
						<div class="avatar avatar-lg rounded me-3">
						  <i class="ti ti-cloud fs-2"></i>
						</div>
						<div>
						  <h4 class="card-title mb-0">DayZ Weather Manager</h4>
						  <p class="card-text mb-0 text-muted">Configure your server's weather system with our easy-to-use interface</p>
						</div>
					  </div>
					</div>
				  </div>
				</div>

				<!-- Quick Settings Card -->
				<div class="row mb-4">
				  <div class="col-12">
					<div class="card text-white">
					  <div class="card-body">
					  <div class="alert alert-danger">All weather settings are not immediate. After changing weather values, they must cycle. Give them time!</div>
						<h5 class="text-white">Quick Settings</h5>
						<div class="row">
						  <div class="col-md-4">
							<div class="form-check form-switch">
							  <input class="form-check-input" type="checkbox" id="weather-enable" checked>
							  <label class="form-check-label" for="weather-enable">Enable Weather System</label>
							</div>
							<small class="text-muted">
								<i class="ti ti-info-circle me-1"></i>
								Controls the 'enable' attribute in the XML. When disabled, the server will ignore weather settings.
							  </small>
						  </div>
						  <div class="col-md-4">
							<select class="form-select" id="weather-preset">
							  <option value="">Select a Weather Preset</option>
							  <option value="sunny">Clear Day (Low clouds, no rain, mild wind)</option>
							  <option value="cloudy">Cloudy Day (Medium clouds, no rain, moderate wind)</option>
							  <option value="rainy">Light Rain (Higher clouds, light rain, higher wind)</option>
							  <option value="stormy">Thunderstorm (Heavy clouds, heavy rain, high wind)</option>
							  <option value="foggy">Light Fog (Medium clouds, no rain, low wind, light fog)</option>
							  <option value="snowy">Light Snow (High clouds, light snow, low-medium wind)</option>
							  <option value="balanced">Balanced Weather (Moderate settings, less frequent changes)</option>
							</select>
						  </div>
						  <div class="col-md-4">
							<button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#weatherGuide">
							  <i class="ti ti-help me-1"></i> Weather Guide
							</button>
						  </div>
						</div>
					  </div>
					</div>
				  </div>
				</div>
				
				<div class="row mb-4">
				  <div class="col-12">
					<div class="card bg-primary text-white">
					  <div class="card-body">
						<h5 class="text-white mb-3">⭐ Top Recommendations for Better Weather</h5>
						<div class="row">
						  <div class="col-md-6">
							<ul class="mb-0">
							  <li>Keep fog values <strong>below 0.05</strong> to avoid visibility issues</li>
							  <li>Set rain threshold to <strong>0.7 or higher</strong> to reduce rain frequency</li>
							  <li>Include some wind (<strong>3-8 m/s</strong>) to disperse fog</li>
							</ul>
						  </div>
						  <div class="col-md-6">
							<ul class="mb-0">
							  <li>Use <strong>longer durations</strong> (8+ minutes) for stable weather</li>
							  <li>Keep overcast around <strong>0.4-0.5</strong> for balanced cloud coverage</li>
							  <li>For first-time setup, try the <strong>"Balanced Weather"</strong> preset</li>
							</ul>
						  </div>
						</div>
					  </div>
					</div>
				  </div>
				</div>
				
				<div class="row mb-4">
				  <div class="col-12">
					<div id="weather-warnings">
					</div>
				  </div>
				</div>
				
				
				<!-- Weather Overview Card -->
			<div class="row mb-4">
			  <div class="col-12">
				<div class="card">
				  <div class="card-header">
					<h5 class="card-title mb-0">Current Weather Overview</h5>
				  </div>
				  <div class="card-body">
					<div class="row">
					  <div class="col-md-2 mb-3">
						<div class="text-center">
						  <i class="ti ti-cloud fs-2 mb-2"></i>
						  <h6>Overcast</h6>
						  <span id="overcast-display">45%</span>
						</div>
					  </div>
					  <div class="col-md-2 mb-3">
						<div class="text-center">
						  <i class="ti ti-mist fs-2 mb-2"></i>
						  <h6>Fog</h6>
						  <span id="fog-display">5%</span>
						</div>
					  </div>
					  <div class="col-md-2 mb-3">
						<div class="text-center">
						  <i class="ti ti-cloud-rain fs-2 mb-2"></i>
						  <h6>Rain</h6>
						  <span id="rain-display">0%</span>
						</div>
					  </div>
					  <div class="col-md-2 mb-3">
						<div class="text-center">
						  <i class="ti ti-wind fs-2 mb-2"></i>
						  <h6>Wind Speed</h6>
						  <span id="wind-display">8 m/s</span>
						</div>
					  </div>
					  <div class="col-md-2 mb-3">
						<div class="text-center">
						  <i class="ti ti-compass fs-2 mb-2"></i>
						  <h6>Wind Direction</h6>
						  <span id="wind-dir-display">0°</span>
						</div>
					  </div>
					  <div class="col-md-2 mb-3">
						<div class="text-center">
						  <i class="ti ti-snowflake fs-2 mb-2"></i>
						  <h6>Snow</h6>
						  <span id="snow-display">0%</span>
						</div>
					  </div>
					</div>
				  </div>
				</div>
			  </div>
			</div>
			
			<div class="row mb-4">
			  <div class="col-12">
				<div class="card">
				  <div class="card-header">
					<h5 class="card-title mb-0">Weather Relationships</h5>
				  </div>
				  <div class="card-body">
					<div class="mb-3">
					  <h6>Overcast & Precipitation Thresholds</h6>
					  <div class="position-relative mb-2">
						<div class="progress" style="height: 15px;">
						  <div class="progress-bar bg-primary" id="overcast-relationship-bar" style="width: 45%"></div>
						</div>
						<!-- Threshold markers -->
						<div class="position-absolute" style="top: 0; bottom: 0; left: 60%; width: 2px; background-color: rgba(220, 53, 69, 0.7);">
						  <span class="badge bg-danger position-absolute" style="top: -20px; transform: translateX(-50%);">Rain</span>
						</div>
						<div class="position-absolute" style="top: 0; bottom: 0; left: 70%; width: 2px; background-color: rgba(13, 110, 253, 0.7);">
						  <span class="badge bg-primary position-absolute" style="top: -20px; transform: translateX(-50%);">Snow</span>
						</div>
						<div class="position-absolute" style="top: 0; bottom: 0; left: 90%; width: 2px; background-color: rgba(255, 193, 7, 0.7);">
						  <span class="badge bg-warning position-absolute" style="top: -20px; transform: translateX(-50%);">Storm</span>
						</div>
					  </div>

					  <div class="d-flex justify-content-between">
						<small>0% (Clear)</small>
						<small>50% (Partly Cloudy)</small>
						<small>100% (Fully Overcast)</small>
					  </div>
					  <div class="small text-muted mt-2 mb-2">
						<i class="ti ti-info-circle me-1"></i>
							These markers show when weather effects become <strong>possible</strong>. Weather will only occur when both the overcast threshold is met <strong>and</strong> the corresponding intensity value is above 0.
					   </div>
					  
					</div>
					<div class="alert alert-info">
					  <i class="ti ti-info-circle me-2"></i>
					  <strong>Important Weather Relationships:</strong>
					  <ul class="mb-0 mt-2">
						<li>Rain only occurs when overcast is above 60%</li>
						<li>Snow requires overcast above 70%</li>
						<li>Storms (lightning) require overcast above 90%</li>
						<li>Higher fog values (above 0.05) create very dense fog</li>
						<li>Wind helps disperse fog and makes weather feel less oppressive</li>
					  </ul>
					</div>
				  </div>
				</div>
			  </div>
			</div>

			<!-- Detailed Settings Tabs -->
			<div class="col-12">
			  <div class="card">
				<div class="card-header border-bottom">
				  <ul class="nav nav-tabs card-header-tabs" role="tablist">
					<li class="nav-item">
					  <a class="nav-link active" data-bs-toggle="tab" href="#overcast-tab">Overcast</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" data-bs-toggle="tab" href="#fog-tab">Fog</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" data-bs-toggle="tab" href="#rain-tab">Rain</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" data-bs-toggle="tab" href="#wind-tab">Wind</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" data-bs-toggle="tab" href="#storm-tab">Storm</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" data-bs-toggle="tab" href="#snow-tab">Snow</a>
					</li>
				  </ul>
				</div>
				
				<div class="card-body">
			  <div class="tab-content">
				<!-- Overcast Tab -->
				<div class="tab-pane fade show active" id="overcast-tab">
				  <div class="alert alert-info mb-4">
					  <i class="ti ti-info-circle me-2"></i>
					  <strong>Overcast controls cloud coverage:</strong> Values below 0.4 create clear to partly cloudy skies. 
					  Values from 0.4-0.6 create cloudy conditions. Values above 0.6 enable rain, and values above 0.9 enable storms.
					</div>
					<div class="row">
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="overcast-actual" class="form-label">
							Current Cloud Coverage
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets how cloudy the sky is. Values below 0.4 = clear/partly cloudy, 0.4-0.6 = cloudy, above 0.6 = enables rain, above 0.9 = enables storms."></i>
						  </label>
						  <input type="range" class="form-range" id="overcast-actual" min="0" max="1" step="0.01" value="0.45">
						  <div class="d-flex justify-content-between">
							<small>Clear Sky (0.0)</small>
							<small>Partly Cloudy (0.3)</small>
							<small>Fully Cloudy (1.0)</small>
						  </div>
						</div>
						<div class="mb-3">
						  <div class="alert alert-warning" id="overcast-warning" style="display: none;">
							<i class="ti ti-alert-circle me-2"></i>
							<span id="overcast-warning-text"></span>
						  </div>
						</div>
					  </div>
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="overcast-time" class="form-label">
							Transition Time
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long it takes for cloud coverage to change. Longer times create more gradual changes."></i>
						  </label>
						  <select class="form-select" id="overcast-time">
							<option value="60">1 minute (Fast changes)</option>
							<option value="120" selected>2 minutes (Recommended)</option>
							<option value="300">5 minutes (Slow changes)</option>
							<option value="600">10 minutes (Very slow changes)</option>
						  </select>
						</div>
						<div class="mb-3">
						  <label for="overcast-duration" class="form-label">
							Duration
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long the weather condition will stay before changing. Longer durations create more stable weather."></i>
						  </label>
						  <select class="form-select" id="overcast-duration">
							<option value="120">2 minutes (Very unstable)</option>
							<option value="240" selected>4 minutes (Recommended)</option>
							<option value="480">8 minutes (Stable)</option>
							<option value="900">15 minutes (Very stable)</option>
						  </select>
						</div>
					  </div>
					</div>
				</div>

				<!-- Fog Tab -->
				<div class="tab-pane fade" id="fog-tab">
				  <div class="alert alert-info mb-4">
					  <i class="ti ti-info-circle me-2"></i>
					  <strong>Important fog guidance:</strong> Values above 0.05 create very dense fog that severely limits visibility.
					  For light atmospheric fog, use values between 0.02-0.04. For gameplay purposes, we recommend staying below 0.05 
					  unless you specifically want limited visibility.
					</div>
					<div class="row">
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="fog-actual" class="form-label">
							Current Fog Density
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets how dense the fog is. 0.02 = minimal fog, 0.05 = moderate fog, 0.1+ = very dense fog with limited visibility."></i>
						  </label>
						  <input type="range" class="form-range" id="fog-actual" min="0.02" max="0.2" step="0.01" value="0.01">
						  <div class="d-flex justify-content-between">
							<small>Minimal (0.02)</small>
							<small>Moderate (0.05)</small>
							<small>Dense (0.2)</small>
						  </div>
						</div>
						<div class="mb-3">
						  <div class="alert alert-warning" id="fog-warning" style="display: none;">
							<i class="ti ti-alert-circle me-2"></i>
							<span id="fog-warning-text"></span>
						  </div>
						</div>
					  </div>
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="fog-time" class="form-label">
							Transition Time
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long it takes for fog to change. Longer times create more realistic fog transitions."></i>
						  </label>
						  <select class="form-select" id="fog-time">
							<option value="120">2 minutes (Fast changes)</option>
							<option value="300">5 minutes (Recommended)</option>
							<option value="600">10 minutes (Slow changes)</option>
							<option value="900" selected>15 minutes (Very slow changes)</option>
						  </select>
						</div>
						<div class="mb-3">
						  <label for="fog-duration" class="form-label">
							Duration
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long the fog will stay before changing. Longer durations create more natural fog conditions."></i>
						  </label>
						  <select class="form-select" id="fog-duration">
							<option value="240">4 minutes (Brief fog)</option>
							<option value="480">8 minutes (Recommended)</option>
							<option value="900">15 minutes (Extended fog)</option>
							<option value="1800">30 minutes (Long-lasting fog)</option>
						  </select>
						</div>
					  </div>
					</div>
				</div>

				<!-- Rain Tab -->
				<div class="tab-pane fade" id="rain-tab">
				  <div class="alert alert-info mb-4">
					  <i class="ti ti-info-circle me-2"></i>
					  <strong>Rain intensity is tied to overcast levels:</strong> Rain can only occur when overcast is above 60%.
					  For lighter rain, use values around 0.3-0.4. Values above 0.6 create heavy rain that affects gameplay significantly.
					</div>
					<div class="row">
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="rain-actual" class="form-label">
							Current Rain Intensity
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets how heavy the rain is. 0.3 = light rain, 0.5 = moderate rain, 0.7+ = heavy rain with significant visibility impact."></i>
						  </label>
						  <input type="range" class="form-range" id="rain-actual" min="0" max="1" step="0.01" value="0">
						  <div class="d-flex justify-content-between">
							<small>No Rain (0.0)</small>
							<small>Moderate (0.5)</small>
							<small>Heavy (1.0)</small>
						  </div>
						</div>
						<div class="mb-3">
						  <label for="rain-threshold" class="form-label">
							Rain Thresholds
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="The minimum and maximum overcast values required for rain to occur. Increasing the minimum value reduces rain frequency."></i>
						  </label>
						  <div class="input-group">
							<span class="input-group-text">Min</span>
							<input type="number" class="form-control" id="rain-threshold-min" value="0.6" min="0" max="1" step="0.1">
							<span class="input-group-text">Max</span>
							<input type="number" class="form-control" id="rain-threshold-max" value="1.0" min="0" max="1" step="0.1">
						  </div>
						  <small class="text-muted">Increasing minimum threshold above 0.6 (e.g., 0.7) will reduce rain frequency</small>
						</div>
					  </div>
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="rain-time" class="form-label">
							Transition Time
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long it takes for rain to change. Longer times create more gradual rain transitions."></i>
						  </label>
						  <select class="form-select" id="rain-time">
							<option value="60" selected>1 minute (Quick transitions)</option>
							<option value="120">2 minutes (Recommended)</option>
							<option value="300">5 minutes (Slow transitions)</option>
							<option value="600">10 minutes (Very slow transitions)</option>
						  </select>
						</div>
						<div class="mb-3">
						  <label for="rain-duration" class="form-label">
							Duration
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long the rain will stay before changing. Longer durations create more consistent rain patterns."></i>
						  </label>
						  <select class="form-select" id="rain-duration">
							<option value="120" selected>2 minutes (Brief showers)</option>
							<option value="300">5 minutes (Recommended)</option>
							<option value="600">10 minutes (Extended rain)</option>
							<option value="1200">20 minutes (Long downpours)</option>
						  </select>
						</div>
						<div class="alert alert-warning" id="rain-warning" style="display: none;">
						  <i class="ti ti-alert-circle me-2"></i>
						  <span id="rain-warning-text"></span>
						</div>
					  </div>
					</div>
				</div>
				
				<!-- Wind Tab -->
			<div class="tab-pane fade" id="wind-tab">
			  <div class="alert alert-info mb-4">
				  <i class="ti ti-info-circle me-2"></i>
				  <strong>Wind affects gameplay and atmosphere:</strong> Wind helps disperse fog and makes weather feel less oppressive. For a balanced experience, set wind between 3-8 m/s. Low wind with high fog creates harsh conditions.
				</div>
				<div class="row">
				  <div class="col-md-6">
					<div class="mb-3">
					  <label for="wind-magnitude" class="form-label">
						Wind Speed (m/s)
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets wind speed in meters per second. 0-2 = calm, 3-8 = moderate breeze, 10+ = strong wind with gameplay impact."></i>
					  </label>
					  <input type="range" class="form-range" id="wind-magnitude" min="0" max="20" step="0.1" value="8.0">
					  <div class="d-flex justify-content-between">
						<small>Calm (0 m/s)</small>
						<small>Moderate (8 m/s)</small>
						<small>Strong (20 m/s)</small>
					  </div>
					</div>
					<div class="mb-3">
					  <label for="wind-direction" class="form-label">
						Wind Direction
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets wind direction in radians (-π to +π). Direction affects sound propagation and particle effects."></i>
					  </label>
					  <input type="range" class="form-range" id="wind-direction" min="-3.14" max="3.14" step="0.01" value="0">
					  <div class="d-flex justify-content-between">
						<small>-π (West)</small>
						<small>0 (North)</small>
						<small>+π (East)</small>
					  </div>
					</div>
				  </div>
				  <div class="col-md-6">
					<div class="mb-3">
					  <label for="wind-time" class="form-label">
						Transition Time
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long it takes for wind to change. Longer times create more gradual wind changes."></i>
					  </label>
					  <select class="form-select" id="wind-time">
						<option value="120" selected>2 minutes (Quick transitions)</option>
						<option value="240">4 minutes (Recommended)</option>
						<option value="480">8 minutes (Slow transitions)</option>
						<option value="900">15 minutes (Very slow transitions)</option>
					  </select>
					</div>
					<div class="mb-3">
					  <label for="wind-duration" class="form-label">
						Duration
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long the wind conditions will stay before changing. Longer durations create more stable wind."></i>
					  </label>
					  <select class="form-select" id="wind-duration">
						<option value="240" selected>4 minutes (Brief duration)</option>
						<option value="480">8 minutes (Recommended)</option>
						<option value="900">15 minutes (Extended duration)</option>
						<option value="1800">30 minutes (Long-lasting)</option>
					  </select>
					</div>
					<div class="alert alert-warning" id="wind-warning" style="display: none;">
					  <i class="ti ti-alert-circle me-2"></i>
					  <span id="wind-warning-text"></span>
					</div>
				  </div>
				</div>
			</div>

			<!-- Storm Tab -->
			<div class="tab-pane fade" id="storm-tab">
			  <div class="alert alert-info mb-4">
				  <i class="ti ti-info-circle me-2"></i>
				  <strong>Storms create lightning effects:</strong> They normally require high overcast values (90%+) to occur.
				  Higher density values create more frequent lightning. Use moderate values for a balanced experience.
				</div>
				<div class="row">
				  <div class="col-md-6">
					<div class="mb-3">
					  <label for="storm-density" class="form-label">
						Storm Density
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets how frequent lightning strikes are. 0.3 = occasional lightning, 0.7 = frequent lightning, 1.0 = constant lightning."></i>
					  </label>
					  <input type="range" class="form-range" id="storm-density" min="0" max="1" step="0.1" value="1.0">
					  <div class="d-flex justify-content-between">
						<small>Occasional (0.3)</small>
						<small>Frequent (0.7)</small>
						<small>Constant (1.0)</small>
					  </div>
					</div>
					<div class="mb-3">
					  <label for="storm-threshold" class="form-label">
						Storm Threshold
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Minimum overcast required for storms. Higher values mean storms occur less frequently."></i>
					  </label>
					  <input type="number" class="form-control" id="storm-threshold" value="0.9" min="0" max="1" step="0.1">
					  <small class="text-muted">Storms only occur when overcast is above this value</small>
					</div>
				  </div>
				  <div class="col-md-6">
					<div class="mb-3">
					  <label for="storm-timeout" class="form-label">
						Lightning Interval (seconds)
						<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Time between lightning strikes. Lower values create more intense storms."></i>
					  </label>
					  <input type="number" class="form-control" id="storm-timeout" value="45" min="10" max="300">
					  <small class="text-muted">Recommended: 30-60 seconds for balanced gameplay</small>
					</div>
					<div class="alert alert-warning" id="storm-warning" style="display: none;">
					  <i class="ti ti-alert-circle me-2"></i>
					  <span id="storm-warning-text"></span>
					</div>
				  </div>
				</div>
			</div>

			<!-- Snow Tab -->
			<div class="tab-pane fade" id="snow-tab">
				<div class="alert alert-info mb-4">
					  <i class="ti ti-info-circle me-2"></i>
					  <strong>Snow intensity is tied to overcast levels:</strong> Snow can only occur when overcast is above 70%.
					  Light snow (0.2-0.4) creates a gentle snowfall, while higher values create blizzard-like conditions that 
					  can significantly impact visibility.
					</div>
					<div class="row">
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="snow-actual" class="form-label">
							Snow Intensity
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="Sets how heavy the snowfall is. 0.2 = light snow, 0.5 = moderate snow, 0.7+ = heavy snow with visibility impact."></i>
						  </label>
						  <input type="range" class="form-range" id="snow-actual" min="0" max="1" step="0.01" value="0">
						  <div class="d-flex justify-content-between">
							<small>No Snow (0.0)</small>
							<small>Moderate (0.4)</small>
							<small>Blizzard (1.0)</small>
						  </div>
						</div>
						<div class="mb-3">
						  <label for="snow-threshold" class="form-label">
							Snow Thresholds
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="The minimum and maximum overcast values required for snow to occur. Increasing the minimum value reduces snow frequency."></i>
						  </label>
						  <div class="input-group">
							<span class="input-group-text">Min</span>
							<input type="number" class="form-control" id="snow-threshold-min" value="0.7" min="0" max="1" step="0.1">
							<span class="input-group-text">Max</span>
							<input type="number" class="form-control" id="snow-threshold-max" value="1.0" min="0" max="1" step="0.1">
						  </div>
						  <small class="text-muted">Increasing minimum threshold above 0.7 (e.g., 0.8) will reduce snow frequency</small>
						</div>
					  </div>
					  <div class="col-md-6">
						<div class="mb-3">
						  <label for="snow-time" class="form-label">
							Transition Time
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long it takes for snow to change. Longer times create more gradual snow transitions."></i>
						  </label>
						  <select class="form-select" id="snow-time">
							<option value="300">5 minutes (Quicker transitions)</option>
							<option value="600" selected>10 minutes (Recommended)</option>
							<option value="1200">20 minutes (Slow transitions)</option>
							<option value="3600">60 minutes (Very slow transitions)</option>
						  </select>
						</div>
						<div class="mb-3">
						  <label for="snow-duration" class="form-label">
							Duration
							<i class="ti ti-help text-muted" data-bs-toggle="tooltip" title="How long the snow will stay before changing. Longer durations create more realistic snowfall."></i>
						  </label>
						  <select class="form-select" id="snow-duration">
							<option value="1800">30 minutes (Brief snowfall)</option>
							<option value="3600" selected>1 hour (Recommended)</option>
							<option value="7200">2 hours (Extended snowfall)</option>
							<option value="14400">4 hours (Long-lasting snowfall)</option>
						  </select>
						</div>
						<div class="alert alert-warning" id="snow-warning" style="display: none;">
						  <i class="ti ti-alert-circle me-2"></i>
						  <span id="snow-warning-text"></span>
						</div>
					  </div>
					</div>
			</div>

			</div>
			</div> 
			<!-- Save Settings Section -->
			<div class="row mt-4 mb-4">
			  <div class="col-12">
				<div class="card">
				  <div class="card-body">
					<div class="row align-items-center">
					  <div class="col-md-6">
						<div class="mb-3 mb-md-0">
						  <div class="form-check form-switch mb-2">
							<input class="form-check-input" type="checkbox" id="weather-reset">
							<label class="form-check-label" for="weather-reset">Reset to default values</label>
						  </div>
						  <small class="text-muted">
							<i class="ti ti-info-circle me-1"></i>
							Resetting will restore all weather parameters to their default settings
						  </small>
						</div>
					  </div>
					  <div class="col-md-6 text-md-end">
						<button type="submit" class="btn btn-primary" id="save-config">
						  <i class="ti ti-device-floppy me-1"></i> Save & Download XML
						</button>
					  </div>
					</div>
				  </div>
				</div>
			  </div>
			</div>

			</div>
			</div>
			<!-- Weather Guide Modal -->
			<div class="modal fade" id="weatherGuide" tabindex="-1">
			  <div class="modal-dialog modal-lg modal-dialog-scrollable">
				<div class="modal-content">
				  <div class="modal-header bg-primary text-white">
					<h5 class="modal-title mb-4">
					  <i class="ti ti-book me-2"></i>
					  DayZ Weather System Guide
					</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
				  </div>
				  <div class="modal-body">
					<div class="mb-4">
						  <h6 class="fw-bold">
							<i class="ti ti-rocket me-2"></i>
							Quick Start Guide
						  </h6>
						  <p>New to weather configuration? Here's how to get started:</p>
						  <ol>
							<li>Use the "Balanced Weather" preset for a stable, playable experience</li>
							<li>Keep fog values below 0.05 to avoid dense fog that limits visibility</li>
							<li>Set the overcast threshold for rain to 0.7 or higher to reduce rain frequency</li>
							<li>Always include some wind (3-8 m/s) to disperse fog and create a better atmosphere</li>
							<li>Use longer duration times (8+ minutes) for more stable, less chaotic weather</li>
						  </ol>
						</div>
						
						<div class="mb-4">
						  <h6 class="fw-bold">
							<i class="ti ti-code me-2"></i>
							Weather XML Attributes
						  </h6>
						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Reset Attribute</h6>
							  <p><code>&lt;weather reset="0" ...&gt;</code></p>
							  <ul class="mb-0">
								<li>Controls whether the server loads weather from storage (0) or resets it (1)</li>
								<li>Set to "0" (default) to maintain weather state between server restarts</li>
								<li>Set to "1" to force reset weather to the values in your XML file</li>
								<li>Generally should be "0" for consistent weather patterns</li>
							  </ul>
							</div>
						  </div>
						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Enable Attribute</h6>
							  <p><code>&lt;weather ... enable="1"&gt;</code></p>
							  <ul class="mb-0">
								<li>Controls whether the weather system is active (1) or disabled (0)</li>
								<li>Set to "1" (default) to use your custom weather settings</li>
								<li>Set to "0" to disable custom weather (server will use default values)</li>
								<li>Should almost always be set to "1" unless troubleshooting</li>
							  </ul>
							</div>
						  </div>
						</div>

						<!-- Weather Parameters -->
						<div class="mb-4">
						  <h6 class="fw-bold">
							<i class="ti ti-adjustments me-2"></i>
							Understanding Weather Parameters
						  </h6>
						  
						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Overcast (Cloud Coverage)</h6>
							  <ul class="mb-0">
								<li><strong>Recommended values:</strong> 0.3-0.5 for balanced gameplay</li>
								<li>Values below 0.4 create clear to partly cloudy conditions</li>
								<li>Values from 0.4-0.6 create cloudy conditions</li>
								<li>Must be above 0.6 for rain to occur</li>
								<li>Must be above 0.7 for snow to occur</li>
								<li>Values above 0.9 enable storm effects</li>
							  </ul>
							</div>
						  </div>

						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Fog</h6>
							  <ul class="mb-0">
								<li><strong>Recommended values:</strong> 0.02-0.04 for light atmospheric fog</li>
								<li>Values above 0.05 create dense fog with significant visibility reduction</li>
								<li>Values above 0.1 create extremely dense fog that severely limits gameplay</li>
								<li>Always pair fog with some wind (3+ m/s) to make it less oppressive</li>
							  </ul>
							</div>
						  </div>

						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Rain</h6>
							  <ul class="mb-0">
								<li><strong>Recommended values:</strong> 0.3-0.5 for moderate rain</li>
								<li>Set rain threshold to 0.7+ to reduce rain frequency</li>
								<li>Values above 0.6 create heavy rain that impacts visibility and audio</li>
								<li>High rain values combined with high fog create extremely harsh conditions</li>
							  </ul>
							</div>
						  </div>

						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Wind</h6>
							  <ul class="mb-0">
								<li><strong>Recommended values:</strong> 3-8 m/s for balanced gameplay</li>
								<li>Always include some wind to disperse fog and create atmosphere</li>
								<li>Values above 12 m/s create strong wind that affects gameplay</li>
								<li>Wind direction affects sound propagation and atmospheric effects</li>
							  </ul>
							</div>
						  </div>

						  <div class="card mb-3">
							<div class="card-body">
							  <h6 class="card-subtitle mb-2">Weather Duration/Timing</h6>
							  <ul class="mb-0">
								<li><strong>Recommended values:</strong> 5-15 minute durations for stable weather</li>
								<li>Short durations (2-4 minutes) create unstable, frequently changing weather</li>
								<li>Long durations (15+ minutes) create very stable, consistent weather</li>
								<li>Longer transition times create more gradual, realistic weather shifts</li>
							  </ul>
							</div>
						  </div>
						</div>

						<!-- Common Issues -->
						<div class="mb-4">
						  <h6 class="fw-bold">
							<i class="ti ti-alert-circle me-2"></i>
							Troubleshooting Common Issues
						  </h6>
						  <div class="table-responsive">
							<table class="table table-sm">
							  <thead>
								<tr>
								  <th>Issue</th>
								  <th>Solution</th>
								</tr>
							  </thead>
							  <tbody>
								<tr>
								  <td>No rain appearing</td>
								  <td>Check if overcast is above 0.6</td>
								</tr>
								<tr>
								  <td>Constant rain</td>
								  <td>Increase rain threshold to 0.7 or higher</td>
								</tr>
								<tr>
								  <td>Dense fog limiting visibility</td>
								  <td>Reduce fog value below 0.05 and increase wind</td>
								</tr>
								<tr>
								  <td>Weather changes too quickly</td>
								  <td>Increase duration values to 8+ minutes</td>
								</tr>
								<tr>
								  <td>Weather feels too oppressive</td>
								  <td>Lower fog, reduce rain, and add more wind</td>
								</tr>
							  </tbody>
							</table>
						  </div>
						</div>

						<!-- Tips for Better Experience -->
						<div>
						  <h6 class="fw-bold">
							<i class="ti ti-bulb me-2"></i>
							Tips for Better Gameplay Experience
						  </h6>
						  <ul class="mb-0">
							<li>Balance weather variety with gameplay impact - extreme settings can frustrate players</li>
							<li>Remember that weather is cyclical - it may take time for changes to take effect</li>
							<li>Allow some clear weather periods between rain/storms for better gameplay rhythm</li>
							<li>Use the "Balanced Weather" preset as a starting point and make small adjustments</li>
							<li>Consider your server's environment and setting - adjust weather to match theme</li>
						  </ul>
						</div>
				  </div>
				  <div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close Guide</button>
				  </div>
				</div>
			  </div>
			</div>

			<!-- Footer -->
			<footer class="content-footer footer bg-footer-theme">
  <style>
    @keyframes heartbeat {
      0% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(1); }
      75% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .heart-icon {
      display: inline-block;
      color: #ff0000;
      animation: heartbeat 1s infinite;
    }
  </style>
  <div class="container-xxl">
    <div class="row py-4">
      <!-- Main Info Column -->
      <div class="col-12 col-lg-6 mb-4 mb-lg-0">
        <div class="d-flex flex-column">
          <div class="mb-3">
            <span class="fw-bold">©
              <script>document.write(new Date().getFullYear());</script>
            </span>
            <span>DayZ Boosterz - Made with </span>
            <span class="heart-icon">❤️</span>
            <span> by </span>
            <a href="https://dayzboosterz.com/" target="_blank" class="footer-link">OzzieHouso</a>
          </div>
          <small class="text-muted mb-3">
            This website is not affiliated or authorized by Bohemia Interactive a.s. Bohemia Interactive, ARMA, DAYZ, 
            and all associated logos and designs are trademarks or registered trademarks of Bohemia Interactive a.s.
          </small>
          <div class="text-muted small">Connected to us via: DZB-SERVER-1</div>
        </div>
      </div>

      <!-- Links Column -->
      <div class="col-12 col-lg-6">
        <div class="d-flex flex-column flex-lg-row justify-content-lg-end align-items-lg-center h-100 gap-3">
          <a href="https://dzbdiscord.com/" class="btn btn-secondary btn-sm" target="_blank">
            <i class="ti ti-brand-discord me-2"></i>Join our Discord
          </a>
          <a href="#" class="btn btn-secondary btn-sm" target="_blank">
            <i class="ti ti-file-text me-2"></i>Documentation
          </a>
		  <a href="terms.html" class="btn btn-warning btn-sm" target="_blank">
            <i class="ti ti-file-text me-2"></i>Terms of Use
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>			<!-- / Footer -->

			<div class="content-backdrop fade"></div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
	  
	  		<div class="buy-now">
			<a href="../../index.html#landingDonate" target="_blank" class="btn btn-danger btn-buy-now waves-effect waves-light">Support The Project</a>
		</div>
	


      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->

    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->

    <script src="../../assets/vendor/libs/jquery/jquery.js"></script>
    <script src="../../assets/vendor/libs/popper/popper.js"></script>
    <script src="../../assets/vendor/js/bootstrap.js"></script>
    <script src="../../assets/vendor/libs/node-waves/node-waves.js"></script>
    <script src="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="../../assets/vendor/libs/hammer/hammer.js"></script>
    <script src="../../assets/vendor/libs/i18n/i18n.js"></script>
    <script src="../../assets/vendor/libs/typeahead-js/typeahead.js"></script>
    <script src="../../assets/vendor/js/menu.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Main JS -->
    <script src="../../assets/js/main.js"></script>
	
	<script>
	const WEATHER_CONFIG = {
		defaults: {
		overcast: {
			actual: 0.4,
			time: 120,
			duration: 480,
			limits: { min: 0.0, max: 1.0 },
			timeLimits: { min: 600, max: 900 },
			changeLimits: { min: 0.0, max: 1.0 }
		},
		fog: {
			actual: 0.03,
			time: 300,
			duration: 480,
			limits: { min: 0.02, max: 1.0 },
			timeLimits: { min: 900, max: 900 },
			changeLimits: { min: 0.0, max: 1.0 }
		},
		rain: {
			actual: 0.0,
			time: 120,
			duration: 300,
			limits: { min: 0.0, max: 1.0 },
			timeLimits: { min: 60, max: 120 },
			changeLimits: { min: 0.0, max: 1.0 },
			thresholds: { min: 0.7, max: 1.0, end: 60 }
		},
		windMagnitude: {
			actual: 5.0,
			time: 120,
			duration: 480,
			limits: { min: 0.0, max: 20.0 },
			timeLimits: { min: 120, max: 240 },
			changeLimits: { min: 0.0, max: 20.0 }
		},
		windDirection: {
			actual: 0.0,
			time: 120,
			duration: 480,
			limits: { min: -3.14, max: 3.14 },
			timeLimits: { min: 60, max: 120 },
			changeLimits: { min: -1.0, max: 1.0 }
		},
		storm: {
			density: 0.7,
			threshold: 0.9,
			timeout: 45
		},
		snow: {
			actual: 0.0,
			time: 600,
			duration: 3600,
			limits: { min: 0.0, max: 1.0 },
			timeLimits: { min: 300, max: 3600 },
			changeLimits: { min: 0.0, max: 1.0 },
			thresholds: { min: 0.7, max: 1.0, end: 120 }
		}
	},
    presets: {
		sunny: {
			overcast: { actual: 0.2 },
			fog: { actual: 0.02 },
			rain: { actual: 0 },
			windMagnitude: { actual: 5.0 },
			windDirection: { actual: 0 },
			storm: { density: 0 },
			snow: { actual: 0 }
		},
		cloudy: {
			overcast: { actual: 0.5 },
			fog: { actual: 0.03 },
			rain: { actual: 0 },
			windMagnitude: { actual: 8.0 },
			windDirection: { actual: 1.57 },
			storm: { density: 0 },
			snow: { actual: 0 }
		},
		rainy: {
			overcast: { actual: 0.75 },
			fog: { actual: 0.03 },
			rain: { actual: 0.3 }, 
			windMagnitude: { actual: 10.0 },
			windDirection: { actual: -1.57 },
			storm: { density: 0 },
			snow: { actual: 0 }
		},
		stormy: {
			overcast: { actual: 0.95 },
			fog: { actual: 0.04 },
			rain: { actual: 0.6 }, 
			windMagnitude: { actual: 15.0 },
			windDirection: { actual: 3.14 },
			storm: { density: 0.8 }, 
			snow: { actual: 0 }
		},
		snowy: {
			overcast: { actual: 0.8 },
			fog: { actual: 0.04 },
			rain: { actual: 0 },
			windMagnitude: { actual: 6.0 },
			windDirection: { actual: 0 },
			storm: { density: 0 },
			snow: { actual: 0.4 } 
		},
		foggy: {
			overcast: { actual: 0.45 },
			fog: { actual: 0.05 },
			rain: { actual: 0 },
			windMagnitude: { actual: 3.0 },
			windDirection: { actual: 0 },
			storm: { density: 0 },
			snow: { actual: 0 }
		},
		balanced: {          
			overcast: { actual: 0.4, duration: 600 },
			fog: { actual: 0.03, duration: 900 },
			rain: { 
				actual: 0, 
				thresholds: { min: 0.7, max: 1.0 } 
			},
			windMagnitude: { actual: 5.0, duration: 600 },
			windDirection: { actual: 0, duration: 600 },
			storm: { density: 0.5, threshold: 0.9 },
			snow: { actual: 0 }
		}
	}
};

// Utility Functions
const utils = {
    formatPercentage: (value) => `${(value * 100).toFixed(0)}%`,
    formatWindSpeed: (value) => `${value.toFixed(1)} m/s`,
    formatDirection: (value) => `${(value * 180 / Math.PI).toFixed(0)}°`,
    clamp: (value, min, max) => Math.min(Math.max(value, min), max),
    debounce: (func, wait) => {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }
};

// Weather Manager Class
class WeatherManager {
    #state;
    #listeners;
    #isEnabled;

    constructor() {
        this.#state = structuredClone(WEATHER_CONFIG.defaults);
        this.#listeners = new Set();
        this.#isEnabled = true;
        this.init();
    }

    init() {
        // Initialize tooltips
        const tooltips = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        tooltips.forEach(tooltip => new bootstrap.Tooltip(tooltip));

        // Initialize state from localStorage if available
        const savedState = localStorage.getItem('weatherState');
        if (savedState) {
            try {
                this.#state = JSON.parse(savedState);
            } catch (e) {
                console.error('Failed to load saved state:', e);
            }
        }

        this.setupEventListeners();
        this.updateUI();
    }

    setupEventListeners() {
        // Weather enable toggle
        document.getElementById('weather-enable')?.addEventListener('change', (e) => {
            this.#isEnabled = e.target.checked;
            this.updateUI();
        });

        // Preset selector
        document.getElementById('weather-preset')?.addEventListener('change', (e) => {
            if (e.target.value) {
                this.applyPreset(e.target.value);
            }
        });

        // Overcast controls
        document.getElementById('overcast-actual')?.addEventListener('input', 
            utils.debounce((e) => {
                this.updateWeather('overcast', { actual: parseFloat(e.target.value) });
            }, 100)
        );

        // Fog controls
        document.getElementById('fog-actual')?.addEventListener('input',
            utils.debounce((e) => {
                this.updateWeather('fog', { actual: parseFloat(e.target.value) });
            }, 100)
        );

        // Rain controls
        document.getElementById('rain-actual')?.addEventListener('input',
            utils.debounce((e) => {
                this.updateWeather('rain', { actual: parseFloat(e.target.value) });
            }, 100)
        );

        // Wind magnitude controls
        document.getElementById('wind-magnitude')?.addEventListener('input',
            utils.debounce((e) => {
                this.updateWeather('windMagnitude', { actual: parseFloat(e.target.value) });
            }, 100)
        );

        // Wind direction controls
        document.getElementById('wind-direction')?.addEventListener('input',
            utils.debounce((e) => {
                this.updateWeather('windDirection', { actual: parseFloat(e.target.value) });
            }, 100)
        );

        // Storm controls
        document.getElementById('storm-density')?.addEventListener('input',
            utils.debounce((e) => {
                this.updateWeather('storm', { density: parseFloat(e.target.value) });
            }, 100)
        );

        document.getElementById('storm-threshold')?.addEventListener('input',
            utils.debounce((e) => {
                this.updateWeather('storm', { threshold: parseFloat(e.target.value) });
            }, 100)
        );
		
		// Snow controls
		document.getElementById('snow-actual')?.addEventListener('input',
			utils.debounce((e) => {
				this.updateWeather('snow', { actual: parseFloat(e.target.value) });
			}, 100)
		);
		
		document.getElementById('snow-time')?.addEventListener('change', (e) => {
			this.updateWeather('snow', { time: parseInt(e.target.value) });
		});

		document.getElementById('snow-duration')?.addEventListener('change', (e) => {
			this.updateWeather('snow', { duration: parseInt(e.target.value) });
		});

		document.getElementById('snow-threshold-min')?.addEventListener('input', (e) => {
			this.updateWeather('snow', { 
				thresholds: { 
					...this.#state.snow.thresholds,
					min: parseFloat(e.target.value)
				}
			});
		});

		document.getElementById('snow-threshold-max')?.addEventListener('input', (e) => {
			this.updateWeather('snow', {
				thresholds: {
					...this.#state.snow.thresholds,
					max: parseFloat(e.target.value)
				}
			});
		});

        // Save and reset buttons
        document.getElementById('save-config')?.addEventListener('click', () => {
            this.saveConfiguration();
        });

        document.getElementById('weather-reset')?.addEventListener('change', (e) => {
            if (e.target.checked) {
                this.reset();
            }
        });
        const tabElements = document.querySelectorAll('a[data-bs-toggle="tab"]');
        tabElements.forEach(tab => {
            tab.addEventListener('shown.bs.tab', (e) => {
                this.handleTabChange(e.target.getAttribute('href'));
            });
        });
		
		document.querySelectorAll('input[type="range"], input[type="number"]').forEach(input => {
		  input.addEventListener('change', () => {
			this.validateConfigurationAndShowWarnings();
		  });

		  if (input.type === 'range') {
			input.addEventListener('input', () => {
			  if (input.id === 'overcast-actual') {
				const relationshipBar = document.getElementById('overcast-relationship-bar');
				if (relationshipBar) {
				  relationshipBar.style.width = `${input.value * 100}%`;
				}
			  }
			});
		  }
		});
		document.querySelectorAll('select').forEach(select => {
		  select.addEventListener('change', () => {
			this.validateConfigurationAndShowWarnings();
		  });
		});
    }

    updateWeather(category, values) {
        if (category in this.#state) {
            this.#state[category] = { ...this.#state[category], ...values };
            this.updateUI();
            this.#notifyListeners();
        }
    }

    applyPreset(presetName) {
        const preset = WEATHER_CONFIG.presets[presetName];
        if (!preset) return;

        for (const [category, values] of Object.entries(preset)) {
            this.updateWeather(category, values);
        }
    }

    reset() {
        this.#state = structuredClone(WEATHER_CONFIG.defaults);
        this.updateUI();
        this.#notifyListeners();
    }

    subscribe(listener) {
        this.#listeners.add(listener);
        return () => this.#listeners.delete(listener);
    }

    #notifyListeners() {
        for (const listener of this.#listeners) {
            listener(this.#state);
        }
    }
	
	// UI Updates and XML Generation
    updateUI() {
        if (!this.#isEnabled) {
            this.disableAllControls();
            return;
        }

        // Update displays
        this.updateDisplayValues();
        this.updateInputControls();
        this.updateRangeControls();
        this.validateDependencies();
		
		this.validateConfigurationAndShowWarnings();
    }
	
	validateConfigurationAndShowWarnings() {
	  document.querySelectorAll(".alert[id$='-warning']").forEach(el => {
		el.style.display = 'none';
	  });
	  
	  const warningsContainer = document.getElementById('weather-warnings');
	  warningsContainer.innerHTML = '';
	  
	  const warnings = [];
	  
	  if (Math.abs(this.#state.overcast.actual - this.#state.rain.thresholds.min) < 0.05) {
		warnings.push({
		  element: 'overcast-warning',
		  text: 'Current overcast value is very close to rain threshold. This may cause frequent rain transitions.',
		  global: true
		});
	  }
	  
	  if (this.#state.fog.actual > 0.05) {
		const severity = this.#state.fog.actual > 0.1 ? 'severe' : 'significant';
		warnings.push({
		  element: 'fog-warning',
		  text: `Fog value of ${this.#state.fog.actual.toFixed(2)} will create ${severity} visibility reduction.`,
		  global: true
		});
	  }
	  
	  if (this.#state.rain.actual > 0.5) {
		warnings.push({
		  element: 'rain-warning',
		  text: `High rain value (${this.#state.rain.actual.toFixed(2)}) will create harsh weather conditions with reduced visibility and loud rain sounds.`,
		  global: this.#state.rain.actual > 0.7
		});
	  }
	  
	  if (this.#state.windMagnitude.actual < 2 && this.#state.fog.actual > 0.03) {
		warnings.push({
		  element: 'wind-warning',
		  text: 'Low wind combined with fog will make fog feel more oppressive. Consider adding some wind.',
		  global: this.#state.fog.actual > 0.05
		});
	  }
	  
	  const relationshipBar = document.getElementById('overcast-relationship-bar');
	  if (relationshipBar) {
		relationshipBar.style.width = `${this.#state.overcast.actual * 100}%`;
	  }
	  
	  warnings.forEach(warning => {
		const warningElement = document.getElementById(warning.element);
		if (warningElement) {
		  warningElement.style.display = 'block';
		  const textElement = document.getElementById(`${warning.element}-text`);
		  if (textElement) {
			textElement.textContent = warning.text;
		  }
		}
		
		if (warning.global) {
		  const alertDiv = document.createElement('div');
		  alertDiv.className = 'alert alert-warning mb-2';
		  alertDiv.innerHTML = `<i class="ti ti-alert-circle me-2"></i>${warning.text}`;
		  warningsContainer.appendChild(alertDiv);
		}
	  });
	}

    updateDisplayValues() {
        const displays = {
            'overcast-display': utils.formatPercentage(this.#state.overcast.actual),
            'fog-display': utils.formatPercentage(this.#state.fog.actual),
            'rain-display': utils.formatPercentage(this.#state.rain.actual),
            'wind-display': utils.formatWindSpeed(this.#state.windMagnitude.actual),
            'wind-dir-display': utils.formatDirection(this.#state.windDirection.actual),
			'snow-display': utils.formatPercentage(this.#state.snow.actual),
            'storm-display': this.#state.storm.density > 0 ? 'Active' : 'Inactive'
        };

        for (const [id, value] of Object.entries(displays)) {
            const element = document.getElementById(id);
            if (element) element.textContent = value;
        }
    }

    updateInputControls() {
		const inputs = {
			// Overcast
			'overcast-actual': this.#state.overcast.actual,
			'overcast-time': this.#state.overcast.time,
			'overcast-duration': this.#state.overcast.duration,
			
			// Fog
			'fog-actual': this.#state.fog.actual,
			'fog-time': this.#state.fog.time,
			'fog-duration': this.#state.fog.duration,
			
			// Rain
			'rain-actual': this.#state.rain.actual,
			'rain-time': this.#state.rain.time,
			'rain-duration': this.#state.rain.duration,
			'rain-threshold-min': this.#state.rain.thresholds?.min,
			'rain-threshold-max': this.#state.rain.thresholds?.max,
			
			// Wind
			'wind-magnitude': this.#state.windMagnitude.actual,
			'wind-direction': this.#state.windDirection.actual,
			'wind-time': this.#state.windMagnitude.time,
			'wind-duration': this.#state.windMagnitude.duration,
			
			// Storm
			'storm-density': this.#state.storm.density,
			'storm-threshold': this.#state.storm.threshold,
			'storm-timeout': this.#state.storm.timeout,
			
			// Snow
			'snow-actual': this.#state.snow.actual,
			'snow-time': this.#state.snow.time,
			'snow-duration': this.#state.snow.duration,
			'snow-threshold-min': this.#state.snow.thresholds?.min,
			'snow-threshold-max': this.#state.snow.thresholds?.max
		};

		// Update all input values
		for (const [id, value] of Object.entries(inputs)) {
			const element = document.getElementById(id);
			if (element) {
				element.value = value;
			}
		}

		// Update display values
		this.updateDisplayValues();
	}

    updateRangeControls() {
		document.querySelectorAll('input[type="range"]').forEach(range => {
			const value = (range.value - range.min) / (range.max - range.min) * 100;
			// Remove the previous style since we're handling it with CSS now
			range.style.background = `linear-gradient(to right, var(--bs-primary) 0%, var(--bs-primary) ${value}%, #d9dee3 ${value}%, #d9dee3 100%)`;
		});
	}

    validateDependencies() {
        // Check rain dependencies
        const rainControls = document.querySelectorAll('[data-rain-control]');
        const canRain = this.#state.overcast.actual >= this.#state.rain.thresholds.min;
		const snowControls = document.querySelectorAll('[data-snow-control]');
		const canSnow = this.#state.overcast.actual >= this.#state.snow.thresholds.min;
        
        rainControls.forEach(control => {
            control.disabled = !canRain;
            if (!canRain) {
                control.title = 'Requires overcast >= 60% for rain';
            }
        });
		
		snowControls.forEach(control => {
			control.disabled = !canSnow;
			if (!canSnow) {
				control.title = 'Requires overcast >= 70% for snow';
			}
		});

        // Check storm dependencies
        const stormControls = document.querySelectorAll('[data-storm-control]');
        const canStorm = this.#state.overcast.actual >= this.#state.storm.threshold;
        
        stormControls.forEach(control => {
            control.disabled = !canStorm;
            if (!canStorm) {
                control.title = 'Requires overcast >= 90% for storms';
            }
        });
    }

    disableAllControls() {
        document.querySelectorAll('.weather-control').forEach(control => {
            control.disabled = true;
        });
    }

    generateXML() {
        const xml = `<` + `?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<weather reset="0" enable="${this.#isEnabled ? 1 : 0}">
    <overcast>
        <current actual="${this.#state.overcast.actual}" time="${this.#state.overcast.time}" duration="${this.#state.overcast.duration}" />
        <limits min="${this.#state.overcast.limits.min}" max="${this.#state.overcast.limits.max}" />
        <timelimits min="${this.#state.overcast.timeLimits.min}" max="${this.#state.overcast.timeLimits.max}" />
        <changelimits min="${this.#state.overcast.changeLimits.min}" max="${this.#state.overcast.changeLimits.max}" />
    </overcast>
    <fog>
        <current actual="${this.#state.fog.actual}" time="${this.#state.fog.time}" duration="${this.#state.fog.duration}" />
        <limits min="${this.#state.fog.limits.min}" max="${this.#state.fog.limits.max}" />
        <timelimits min="${this.#state.fog.timeLimits.min}" max="${this.#state.fog.timeLimits.max}" />
        <changelimits min="${this.#state.fog.changeLimits.min}" max="${this.#state.fog.changeLimits.max}" />
    </fog>
    <rain>
        <current actual="${this.#state.rain.actual}" time="${this.#state.rain.time}" duration="${this.#state.rain.duration}" />
        <limits min="${this.#state.rain.limits.min}" max="${this.#state.rain.limits.max}" />
        <timelimits min="${this.#state.rain.timeLimits.min}" max="${this.#state.rain.timeLimits.max}" />
        <changelimits min="${this.#state.rain.changeLimits.min}" max="${this.#state.rain.changeLimits.max}" />
        <thresholds min="${this.#state.rain.thresholds.min}" max="${this.#state.rain.thresholds.max}" end="${this.#state.rain.thresholds.end}" />
    </rain>
    <windMagnitude>
        <current actual="${this.#state.windMagnitude.actual}" time="${this.#state.windMagnitude.time}" duration="${this.#state.windMagnitude.duration}" />
        <limits min="${this.#state.windMagnitude.limits.min}" max="${this.#state.windMagnitude.limits.max}" />
        <timelimits min="${this.#state.windMagnitude.timeLimits.min}" max="${this.#state.windMagnitude.timeLimits.max}" />
        <changelimits min="${this.#state.windMagnitude.changeLimits.min}" max="${this.#state.windMagnitude.changeLimits.max}" />
    </windMagnitude>
    <windDirection>
        <current actual="${this.#state.windDirection.actual}" time="${this.#state.windDirection.time}" duration="${this.#state.windDirection.duration}" />
        <limits min="${this.#state.windDirection.limits.min}" max="${this.#state.windDirection.limits.max}" />
        <timelimits min="${this.#state.windDirection.timeLimits.min}" max="${this.#state.windDirection.timeLimits.max}" />
        <changelimits min="${this.#state.windDirection.changeLimits.min}" max="${this.#state.windDirection.changeLimits.max}" />
    </windDirection>
    <storm density="${this.#state.storm.density}" threshold="${this.#state.storm.threshold}" timeout="${this.#state.storm.timeout}"/>
    <snowfall>
		<current actual="${this.#state.snow.actual}" time="${this.#state.snow.time}" duration="${this.#state.snow.duration}" />
		<limits min="${this.#state.snow.limits.min}" max="${this.#state.snow.limits.max}" />
		<timelimits min="${this.#state.snow.timeLimits.min}" max="${this.#state.snow.timeLimits.max}" />
		<changelimits min="${this.#state.snow.changeLimits.min}" max="${this.#state.snow.changeLimits.max}" />
		<thresholds min="${this.#state.snow.thresholds.min}" max="${this.#state.snow.thresholds.max}" end="${this.#state.snow.thresholds.end}" />
	</snowfall>
</weather>`;
        return xml;
    }
    async saveConfiguration() {
	  try {
		let shouldProceed = true;
		const potentialIssues = [];
		
		if (this.#state.fog.actual > 0.05) {
		  potentialIssues.push("Fog is set to a high value which may create dense fog with limited visibility");
		}
		
		if (this.#state.rain.actual > 0.6) {
		  potentialIssues.push("Rain is set to a high value which may create harsh playing conditions");
		}
		
		if (this.#state.rain.thresholds.min <= 0.6 && this.#state.overcast.actual >= 0.6) {
		  potentialIssues.push("Current settings may result in frequent rain");
		}
		
		if (this.#state.windMagnitude.actual < 2 && this.#state.fog.actual > 0.03) {
		  potentialIssues.push("Low wind with fog may create oppressive conditions");
		}
		
		if (potentialIssues.length > 0) {
		  const issuesList = potentialIssues.map(issue => `<li>${issue}</li>`).join('');
		  
		  const result = await Swal.fire({
			title: 'Potential Weather Issues',
			html: `
			  <p>The following potential issues were detected:</p>
			  <ul>${issuesList}</ul>
			  <p>Do you want to proceed with these settings?</p>
			`,
			icon: 'warning',
			showCancelButton: true,
			confirmButtonText: 'Yes, save these settings',
			cancelButtonText: 'No, let me adjust them',
			confirmButtonColor: '#3085d6',
			cancelButtonColor: '#d33'
		  });
		  
		  shouldProceed = result.isConfirmed;
		}
		
		if (!shouldProceed) {
		  return;
		}
		
		this.toggleLoadingState(true);

		const xmlConfig = this.generateXML();
		const settings = JSON.stringify(this.#state);
		const preset = document.getElementById('weather-preset').value || 'custom';
		const formData = new FormData();
		formData.append('xmlConfig', xmlConfig);
		formData.append('settings', settings);
		formData.append('preset', preset);

		const response = await fetch('config/save_weather.html', {
		  method: 'POST',
		  body: formData
		});

		if (!response.ok) {
		  throw new Error(`HTTP error! status: ${response.status}`);
		}

		const result = await response.json();

		if (result.error) {
		  throw new Error(result.error);
		}

		const blob = new Blob([xmlConfig], { type: 'text/xml' });
		const url = window.URL.createObjectURL(blob);
		const a = document.createElement('a');
		a.href = url;
		a.download = result.filename || 'weather.xml';
		document.body.appendChild(a);
		a.click();
		window.URL.revokeObjectURL(url);
		document.body.removeChild(a);

		localStorage.setItem('weatherState', JSON.stringify(this.#state));

		this.showNotification('success', 'Weather configuration saved successfully!', 
		  'Place the XML file in your DayZ server\'s mission folder. Weather changes may take time to cycle.');
	  } catch (error) {
		console.error('Save error:', error);
		this.showNotification('error', `Failed to save configuration: ${error.message}`);
	  } finally {
		this.toggleLoadingState(false);
	  }
	}

    toggleLoadingState(isLoading) {
		const saveBtn = document.getElementById('save-config');
		if (saveBtn) {
			saveBtn.disabled = isLoading;
			saveBtn.innerHTML = isLoading 
				? '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Saving...'
				: '<i class="ti ti-device-floppy me-1"></i> Save Configuration';
		}
	}

    showNotification(type, message, details = '') {
	  const iconMap = {
		success: 'success',
		error: 'error',
		info: 'info'
	  };

	  const htmlContent = details ? `${message}<br><small class="text-muted mt-2">${details}</small>` : message;

	  Swal.fire({
		icon: iconMap[type] || 'info',
		title: type.charAt(0).toUpperCase() + type.slice(1),
		html: htmlContent,
		position: 'center',
		showConfirmButton: true,
		confirmButtonText: 'OK',
		timer: details ? 8000 : 3000
	  });
	}

    async saveToServer(xmlConfig) {
        return new Promise((resolve) => {
            setTimeout(() => {
                console.log('Saving XML configuration:', xmlConfig);
                resolve();
            }, 1000);
        });
    }

    handleTabChange(tabId) {
        console.log('Tab changed to:', tabId);
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.weatherManager = new WeatherManager();
});
	</script>

  </body>

<!-- Mirrored from app.dayzboosterz.com/apps/tools/weather by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 08 Mar 2025 17:27:58 GMT -->
</html>

